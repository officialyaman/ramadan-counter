<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <meta name="theme-color" content="#118C4F" />
  <title>Ramadan Tracker</title>

  <link rel="manifest" href="manifest.json" />
  <link rel="stylesheet" href="styles.css" />

  <!-- Supabase JS -->
  <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>
</head>

<body>
  <header class="topbar">
    <div class="brand">
      <div class="title">RAMADAN TRACKER</div>
      <div class="monthline">
        <span class="label">MONTH OF:</span>
        <span id="monthText" class="monthText">1447 Ramadan</span>
      </div>
    </div>

    <div class="topbarRight">
      <div class="monthPick">
        <label for="monthStart" class="miniLabel">Start date</label>
        <input id="monthStart" type="date" />
        <button id="loadBtn" class="btn ghost">Load 30 days</button>
      </div>

      <div id="authArea" class="authArea">
        <button class="linkBtn" id="signInBtn">Sign In</button>
        <button class="linkBtn" id="signUpBtn">Sign Up</button>
      </div>

      <div id="userArea" class="userArea" style="display:none;">
        <span id="helloUser" class="helloUser"></span>
        <button id="logoutBtn" class="linkBtn">Log out</button>
      </div>
    </div>
  </header>

  <main class="wrap">
    <div class="sheetCard">
      <div class="sheetHeader">
        <div class="sheetHeaderCell">
          <div class="smallMuted">1447 Ramadan</div>
          <div class="big">Rak'at Prayed</div>
        </div>
        <div class="sheetHeaderCell">
          <div class="smallMuted">1447 Ramadan</div>
          <div class="big">VIP Rows</div>
        </div>
        <div class="sheetHeaderCell">
          <div class="smallMuted">1447 Ramadan</div>
          <div class="big">Takbeerat Al-Ihram</div>
        </div>
        <div class="sheetHeaderCell">
          <div class="smallMuted">1447 Ramadan</div>
          <div class="big">Tasbeehat</div>
        </div>
        <div class="sheetHeaderCell">
          <div class="smallMuted">1447 Ramadan</div>
          <div class="big">Quran</div>
        </div>
        <div class="sheetHeaderCell">
          <div class="smallMuted">1447 Ramadan</div>
          <div class="big">Prayer Mood</div>
        </div>
      </div>

      <div class="sheet">
        <div class="tableWrap">
          <table class="sheetTable">
            <thead>
              <tr>
                <th class="dateCol">Date</th>
                <th>Rak'at</th>
                <th>VIP</th>
                <th>Takbeer</th>
                <th>Tasbeehat (Sub/Hamd/Takbir/Tahlil/Ist/Sal)</th>
                <th>Quran pages</th>
                <th>Mood</th>
              </tr>
            </thead>
            <tbody id="tbody"></tbody>
          </table>

          <div class="statusRow">
            <span id="statusText" class="statusText">Not signed in.</span>
            <span id="saveDot" class="saveDot idle"></span>
          </div>
        </div>

        <div class="bottomNotes">
          <div class="notesBox">
            <div class="redTitle">NOTES:</div>
            <textarea id="notesGlobal" placeholder="General notes for the month..."></textarea>
          </div>

          <div class="todoBox">
            <div class="redTitle">TO DO:</div>
            <textarea id="todoGlobal" placeholder="To-do list..."></textarea>
          </div>
        </div>
      </div>
    </div>
  </main>

  <!-- AUTH MODAL -->
  <div class="modal" id="authModal" style="display:none;">
    <div class="modalCard">
      <h2 id="authTitle">Sign In</h2>

      <input id="authEmail" type="email" placeholder="Email" autocomplete="email" />
      <input id="authPass" type="password" placeholder="Password" autocomplete="current-password" />

      <div class="modalActions">
        <button class="btn ghost" id="closeAuth">Cancel</button>
        <button class="btn" id="submitAuth">Continue</button>
      </div>

      <p class="muted" id="authMsg"></p>
    </div>
  </div>

  <script src="app.js"></script>

  <script>
    if ("serviceWorker" in navigator) {
      navigator.serviceWorker.register("./service-worker.js");
    }
  </script>
</body>
</html>
